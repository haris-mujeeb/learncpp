{"id":81,"date":"2007-06-26T16:22:16","date_gmt":"2007-06-27T00:22:16","guid":{"rendered":"http:\/\/www.learncpp.com\/cpp-tutorial\/58-break-and-continue\/"},"modified":"2023-09-11T16:54:29","modified_gmt":"2023-09-11T23:54:29","slug":"break-and-continue","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/break-and-continue\/","title":{"rendered":"8.11 &#8212; Break and continue"},"content":{"rendered":"<p class=\"cpp-section\">Break<\/p>\n<p>Although you have already seen the <code>break<\/code> statement in the context of <code>switch<\/code> statements (<a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/switch-statement-basics\/\">8.5 -- Switch statement basics<\/a>), it deserves a fuller treatment since it can be used with other types of control flow statements as well.  The <strong>break statement<\/strong> causes a while loop, do-while loop, for loop, or switch statement to end, with execution continuing with the next statement after the loop or switch being broken out of.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Breaking a switch<\/p>\n<p>In the context of a <code>switch<\/code> statement, a <code>break<\/code> is typically used at the end of each case to signify the case is finished (which prevents fallthrough into subsequent cases):<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nvoid printMath(int x, int y, char ch)\r\n{\r\n    switch (ch)\r\n    {\r\n    case '+':\r\n        std::cout &lt;&lt; x &lt;&lt; \" + \" &lt;&lt; y &lt;&lt; \" = \" &lt;&lt; x + y &lt;&lt; '\\n';\r\n        break; \/\/ don't fall-through to next case\r\n    case '-':\r\n        std::cout &lt;&lt; x &lt;&lt; \" - \" &lt;&lt; y &lt;&lt; \" = \" &lt;&lt; x - y &lt;&lt; '\\n';\r\n        break; \/\/ don't fall-through to next case\r\n    case '*':\r\n        std::cout &lt;&lt; x &lt;&lt; \" * \" &lt;&lt; y &lt;&lt; \" = \" &lt;&lt; x * y &lt;&lt; '\\n';\r\n        break; \/\/ don't fall-through to next case\r\n    case '\/':\r\n        std::cout &lt;&lt; x &lt;&lt; \" \/ \" &lt;&lt; y &lt;&lt; \" = \" &lt;&lt; x \/ y &lt;&lt; '\\n';\r\n        break;\r\n    }\r\n}\r\n\r\nint main()\r\n{\r\n    printMath(2, 3, '+');\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>See lesson <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/switch-fallthrough-and-scoping\/\">8.6 -- Switch fallthrough and scoping<\/a> for more information about fallthrough, along with some additional examples.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Breaking a loop<\/p>\n<p>In the context of a loop, a <code>break<\/code> statement can be used to end the loop early.  Execution continues with the next statement after the end of the loop.<\/p>\n<p>For example:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    int sum{ 0 };\r\n\r\n    \/\/ Allow the user to enter up to 10 numbers\r\n    for (int count{ 0 }; count &lt; 10; ++count)\r\n    {\r\n        std::cout &lt;&lt; \"Enter a number to add, or 0 to exit: \";\r\n        int num{};\r\n        std::cin &gt;&gt; num;\r\n\r\n        \/\/ exit loop if user enters 0\r\n        if (num == 0)\r\n            break; \/\/ exit the loop now\r\n\r\n        \/\/ otherwise add number to our sum\r\n        sum += num;\r\n    }\r\n\r\n    \/\/ execution will continue here after the break\r\n    std::cout &lt;&lt; \"The sum of all the numbers you entered is: \" &lt;&lt; sum &lt;&lt; '\\n';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This program allows the user to type up to 10 numbers, and displays the sum of all the numbers entered at the end.  If the user enters 0, the break causes the loop to terminate early (before 10 numbers have been entered).<\/p>\n<p>Here&#8217;s a sample execution of the above program:<\/p>\n<pre>\r\nEnter a number to add, or 0 to exit: 5\r\nEnter a number to add, or 0 to exit: 2\r\nEnter a number to add, or 0 to exit: 1\r\nEnter a number to add, or 0 to exit: 0\r\nThe sum of all the numbers you entered is: 8\r\n<\/pre>\n<p>A <code>break<\/code> is also a common way to get out of an intentional infinite loop:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    while (true) \/\/ infinite loop\r\n    {\r\n        std::cout &lt;&lt; \"Enter 0 to exit or any other integer to continue: \";\r\n        int num{};\r\n        std::cin &gt;&gt; num;\r\n\r\n        \/\/ exit loop if user enters 0\r\n        if (num == 0)\r\n            break;\r\n    }\r\n\r\n    std::cout &lt;&lt; \"We're out!\\n\";\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>A sample run of the above program:<\/p>\n<pre>\r\nEnter 0 to exit or any other integer to continue: 5\r\nEnter 0 to exit or any other integer to continue: 3\r\nEnter 0 to exit or any other integer to continue: 0\r\nWe're out!\r\n<\/pre>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Break vs return<\/p>\n<p>New programmers sometimes have trouble understanding the difference between <code>break<\/code> and <code>return<\/code>.  A <code>break<\/code> statement terminates the switch or loop, and execution continues at the first statement beyond the switch or loop.  A <code>return<\/code> statement terminates the entire function that the loop is within, and execution continues at point where the function was called.<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint breakOrReturn()\r\n{\r\n    while (true) \/\/ infinite loop\r\n    {\r\n        std::cout &lt;&lt; \"Enter 'b' to break or 'r' to return: \";\r\n        char ch{};\r\n        std::cin &gt;&gt; ch;\r\n\r\n        if (ch == 'b')\r\n            break; \/\/ execution will continue at the first statement beyond the loop\r\n\r\n        if (ch == 'r')\r\n            return 1; \/\/ return will cause the function to immediately return to the caller (in this case, main())\r\n    }\r\n\r\n    \/\/ breaking the loop causes execution to resume here\r\n\r\n    std::cout &lt;&lt; \"We broke out of the loop\\n\";\r\n\r\n    return 0;\r\n}\r\n\r\nint main()\r\n{\r\n    int returnValue{ breakOrReturn() };\r\n    std::cout &lt;&lt; \"Function breakOrReturn returned \" &lt;&lt; returnValue &lt;&lt; '\\n';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>Here are two runs of this program:<\/p>\n<pre>\r\nEnter 'b' to break or 'r' to return: r\r\nFunction breakOrReturn returned 1\r\n<\/pre>\n<pre>\r\nEnter 'b' to break or 'r' to return: b\r\nWe broke out of the loop\r\nFunction breakOrReturn returned 0\r\n<\/pre>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Continue<\/p>\n<p>The <strong>continue statement<\/strong> provides a convenient way to end the current iteration of a loop without terminating the entire loop.<\/p>\n<p>Here&#8217;s an example of using continue:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    for (int count{ 0 }; count &lt; 10; ++count)\r\n    {\r\n        \/\/ if the number is divisible by 4, skip this iteration\r\n        if ((count % 4) == 0)\r\n            continue; \/\/ go to next iteration\r\n\r\n        \/\/ If the number is not divisible by 4, keep going\r\n        std::cout &lt;&lt; count &lt;&lt; '\\n';\r\n\r\n        \/\/ The continue statement jumps to here\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This program prints all of the numbers from 0 to 9 that aren&#8217;t divisible by 4:<\/p>\n<pre>\r\n1\r\n2\r\n3\r\n5\r\n6\r\n7\r\n9\r\n<\/pre>\n<p>A <code>continue<\/code> statement works by causing the current point of execution to jump to the bottom of the current loop.<\/p>\n<p>In the case of a for-loop, the end-statement of the for-loop (in the above example, <code>++count<\/code>) still executes after a continue (since this happens after the end of the loop body).<\/p>\n<p>Be careful when using a <code>continue<\/code> statement with while or do-while loops.  These loops typically change the value of variables used in the condition inside the loop body.  If use of a <code>continue<\/code> statement causes these lines to be skipped, then the loop can become infinite!<\/p>\n<p>Consider the following program:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    int count{ 0 };\r\n    while (count &lt; 10)\r\n    {\r\n        if (count == 5)\r\n            continue; \/\/ jump to end of loop body\r\n\r\n        std::cout &lt;&lt; count &lt;&lt; '\\n';\r\n\r\n        ++count; \/\/ this statement is never executed after count reaches 5\r\n\r\n        \/\/ The continue statement jumps to here\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This program is intended to print every number between 0 and 9 except 5.  But it actually prints:<\/p>\n<pre>\r\n0\r\n1\r\n2\r\n3\r\n4\r\n<\/pre>\n<p>and then goes into an infinite loop.  When <code>count<\/code> is <code>5<\/code>, the <code>if<\/code> statement evaluates to <code>true<\/code>, and the <code>continue<\/code> causes the execution to jump to the bottom of the loop.  The <code>count<\/code> variable is never incremented.  Consequently, on the next pass, <code>count<\/code> is still <code>5<\/code>, the <code>if<\/code> statement is still <code>true<\/code>, and the program continues to loop forever.<\/p>\n<p>Of course, you already know that if you have an obvious counter variable, you should be using a <code>for<\/code> loop, not a <code>while<\/code> or <code>do while<\/code> loop.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">The debate over use of break and continue<\/p>\n<p>Many textbooks caution readers not to use <code>break<\/code> and <code>continue<\/code> in loops, both because it causes the execution flow to jump around, and because it can make the flow of logic harder to follow.  For example, a <code>break<\/code> in the middle of a complicated piece of logic could either be missed, or it may not be obvious under what conditions it should be triggered.<\/p>\n<p>However, used judiciously, <code>break<\/code> and <code>continue<\/code> can help make loops more readable by keeping the number of nested blocks down and reducing the need for complicated looping logic.<\/p>\n<p>For example, consider the following program:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    int count{ 0 }; \/\/ count how many times the loop iterates\r\n    bool keepLooping { true }; \/\/ controls whether the loop ends or not\r\n    while (keepLooping)\r\n    {\r\n        std::cout &lt;&lt; \"Enter 'e' to exit this loop or any other character to continue: \";\r\n        char ch{};\r\n        std::cin &gt;&gt; ch;\r\n\r\n        if (ch == 'e')\r\n            keepLooping = false;\r\n        else\r\n        {\r\n            ++count;\r\n            std::cout &lt;&lt; \"We've iterated \" &lt;&lt; count &lt;&lt; \" times\\n\";\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This program uses a Boolean variable to control whether the loop continues or not, as well as a nested block that only runs if the user doesn&#8217;t exit.<\/p>\n<p>Here&#8217;s a version that&#8217;s easier to understand, using a <code>break<\/code> statement:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    int count{ 0 }; \/\/ count how many times the loop iterates\r\n    while (true) \/\/ loop until user terminates\r\n    {\r\n        std::cout &lt;&lt; \"Enter 'e' to exit this loop or any other character to continue: \";\r\n        char ch{};\r\n        std::cin &gt;&gt; ch;\r\n\r\n        if (ch == 'e')\r\n            break;\r\n\r\n        ++count;\r\n        std::cout &lt;&lt; \"We've iterated \" &lt;&lt; count &lt;&lt; \" times\\n\";\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>In this version, by using a single <code>break<\/code> statement, we&#8217;ve avoided the use of a Boolean variable (and having to understand both what its intended use is, and where its value is changed), an <code>else<\/code> statement, and a nested block.<\/p>\n<p>The <code>continue<\/code> statement is most effectively used at the top of a for-loop to skip loop iterations when some condition is met.  This can allow us to avoid a nested block.<\/p>\n<p>For example, instead of this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    for (int count{ 0 }; count &lt; 10; ++count)\r\n    {\r\n        \/\/ if the number is not divisible by 4...\r\n        if ((count % 4) != 0) \/\/ nested block\r\n        {\r\n                \/\/ Print the number\r\n                std::cout &lt;&lt; count &lt;&lt; '\\n';\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>We can write this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    for (int count{ 0 }; count &lt; 10; ++count)\r\n    {\r\n        \/\/ if the number is divisible by 4, skip this iteration\r\n        if ((count % 4) == 0)\r\n            continue;\r\n\r\n        \/\/ no nested block needed\r\n\r\n        std::cout &lt;&lt; count &lt;&lt; '\\n';\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>Minimizing the number of variables used and keeping the number of nested blocks down both improve code comprehensibility more than a <code>break<\/code> or <code>continue<\/code> harms it. For that reason, we believe judicious use of <code>break<\/code> or <code>continue<\/code> is acceptable.<\/p>\n<div class=\"cpp-note cpp-lightgreenbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Best practice<\/p>\n<p>Use break and continue when they simplify your loop logic.\n<\/p><\/div>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">The debate over use of early returns<\/p>\n<p>There&#8217;s a similar argument to be made for return statements.  A return statement that is not the last statement in a function is called an <strong>early return<\/strong>.  Many programmers believe early returns should be avoided.  A function that only has one return statement at the bottom of the function has a simplicity to it -- you can assume the function will take its arguments, do whatever logic it has implemented, and return a result without deviation.  Having extra returns complicates the logic.<\/p>\n<p>The counter-argument is that using early returns allows your function to exit as soon as it is done, which reduces having to read through unnecessary logic and minimizes the need for conditional nested blocks, which makes your code more readable.<\/p>\n<p>Some developers take a middle ground, and only use early returns at the top of a function to do parameter validation (catch bad arguments passed in), and then a single return thereafter.<\/p>\n<p>Our stance is that early returns are more helpful than harmful, but we recognize that there is a bit of art to the practice.<\/p>\n<div class=\"cpp-note cpp-lightgreenbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Best practice<\/p>\n<p>Use early returns when they simplify your function&#8217;s logic.\n<\/p><\/div>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/halts-exiting-your-program-early\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">8.12<\/span>Halts (exiting your program early)\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/for-statements\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">8.10<\/span>For statements\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>Although you have already seen the break statement in the context of switch statements (), it deserves a fuller treatment since it can be used with other types of control flow statements as well. The causes a while loop, do-while loop, for loop, or switch statement to end, with execution &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/81"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=81"}],"version-history":[{"count":32,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/81\/revisions"}],"predecessor-version":[{"id":2007,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/81\/revisions\/2007"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=81"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=81"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=81"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}