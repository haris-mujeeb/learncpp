{"id":15796,"date":"2023-09-27T10:20:43","date_gmt":"2023-09-27T17:20:43","guid":{"rendered":"https:\/\/www.learncpp.com\/?p=15796"},"modified":"2024-06-11T12:48:43","modified_gmt":"2024-06-11T19:48:43","slug":"alias-templates","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/alias-templates\/","title":{"rendered":"13.15 &#8212; Alias templates"},"content":{"rendered":"<p>In lesson <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/typedefs-and-type-aliases\/\">10.7 -- Typedefs and type aliases<\/a>, we discussed how type aliases let us define an alias for an existing type.<\/p>\n<p>Creating a type alias for a class template where all template arguments are explicitly specified works just like a normal type alias:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\ntemplate &lt;typename T&gt;\r\nstruct Pair\r\n{\r\n    T first{};\r\n    T second{};\r\n};\r\n\r\ntemplate &lt;typename T&gt;\r\nvoid print(const Pair&lt;T&gt;&amp; p)\r\n{\r\n    std::cout &lt;&lt; p.first &lt;&lt; ' ' &lt;&lt; p.second &lt;&lt; '\\n';\r\n}\r\n\r\nint main()\r\n{\r\n    using Point = Pair&lt;int&gt;; \/\/ create normal type alias\r\n    Point p { 1, 2 };        \/\/ compiler replaces this with Pair&lt;int&gt;\r\n\r\n    print(p);\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>Such aliases can be defined locally (e.g. inside a function) or globally.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Alias templates<\/p>\n<p>In other cases, we might want a type alias for a template class where not all of the template arguments are defined as part of the alias (and will instead be provided by the user of the type alias).  To do this, we can define an <strong>alias template<\/strong>, which is a template that can be used to instantiate type aliases.  Just like type aliases do not define distinct types, alias templates do not define distinct types.<\/p>\n<p>Here&#8217;s an example of how this works:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\ntemplate &lt;typename T&gt;\r\nstruct Pair\r\n{\r\n    T first{};\r\n    T second{};\r\n};\r\n\r\n\/\/ Here's our alias template\r\n\/\/ Alias templates must be defined in global scope\r\ntemplate &lt;typename T&gt;\r\nusing Coord = Pair&lt;T&gt;; \/\/ Coord is an alias for Pair&lt;T&gt;\r\n\r\n\/\/ Our print function template needs to know that Coord's template parameter T is a type template parameter\r\ntemplate &lt;typename T&gt;\r\nvoid print(const Coord&lt;T&gt;&amp; c)\r\n{\r\n    std::cout &lt;&lt; c.first &lt;&lt; ' ' &lt;&lt; c.second &lt;&lt; '\\n';\r\n}\r\n\r\nint main()\r\n{\r\n    Coord&lt;int&gt; p1 { 1, 2 }; \/\/ Pre C++-20: We must explicitly specify all type template argument\r\n    Coord p2 { 1, 2 };      \/\/ In C++20, we can use alias template deduction to deduce the template arguments in cases where CTAD works\r\n\r\n    std::cout &lt;&lt; p1.first &lt;&lt; ' ' &lt;&lt; p1.second &lt;&lt; '\\n';\r\n    print(p2);\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>In this example, we&#8217;re defining an alias template named <code>Coord<\/code> as an alias for <code>Pair&lt;T&gt;<\/code>, where type template parameter <code>T<\/code> will be defined by the user of the Coord alias.  <code>Coord<\/code> is the alias template, and <code>Coord&lt;T&gt;<\/code> is the instantiated type alias for <code>Pair&lt;T&gt;<\/code>.  Once defined, we can use <code>Coord<\/code> where we would use <code>Pair<\/code>, and <code>Coord&lt;T&gt;<\/code> where we would use <code>Pair&lt;T&gt;<\/code>.<\/p>\n<p>There are a couple of things worth noting about this example.<\/p>\n<p>First, unlike normal type aliases (which can be defined inside a block), alias templates must be defined in the global scope (as all templates must).<\/p>\n<p>Second, prior to C++20, we must explicitly specify the template arguments when we instantiate an object using an alias template.  As of C++20, we can use <strong>alias template deduction<\/strong>, which will deduce the type of the template arguments from an initializer in cases where the aliased type would work with CTAD.<\/p>\n<p>Third, because CTAD doesn&#8217;t work on function parameters, when we use an alias template as a function parameter, we must explicitly define the template arguments used by the alias template.  In other words, we do this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">template &lt;typename T&gt;\r\nvoid print(const Coord&lt;T&gt;&amp; c)\r\n{\r\n    std::cout &lt;&lt; c.first &lt;&lt; ' ' &lt;&lt; c.second &lt;&lt; '\\n';\r\n}<\/code><\/pre>\n<p>Not this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">void print(const Coord&amp; c) \/\/ won't work, missing template arguments\r\n{\r\n    std::cout &lt;&lt; c.first &lt;&lt; ' ' &lt;&lt; c.second &lt;&lt; '\\n';\r\n}<\/code><\/pre>\n<p>This is no different than if we&#8217;d used <code>Pair<\/code> or <code>Pair&lt;T&gt;<\/code> instead of <code>Coord<\/code> or <code>Coord&lt;T&gt;<\/code>.<\/p>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/chapter-13-summary-and-quiz\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">13.x<\/span>Chapter 13 summary and quiz\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/class-template-argument-deduction-ctad-and-deduction-guides\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">13.14<\/span>Class template argument deduction (CTAD) and deduction guides\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>In lesson , we discussed how type aliases let us define an alias for an existing type. Creating a type alias for a class template where all template arguments are explicitly specified works just like a normal type alias: #include &lt;iostream&gt; template &lt;typename T&gt; struct Pair { T first{}; T &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/15796"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=15796"}],"version-history":[{"count":7,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/15796\/revisions"}],"predecessor-version":[{"id":17185,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/15796\/revisions\/17185"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=15796"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=15796"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=15796"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}