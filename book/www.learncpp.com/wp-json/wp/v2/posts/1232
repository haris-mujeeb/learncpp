{"id":1232,"date":"2015-02-17T14:14:13","date_gmt":"2015-02-17T22:14:13","guid":{"rendered":"http:\/\/www.learncpp.com\/?p=1232"},"modified":"2024-09-05T12:16:32","modified_gmt":"2024-09-05T19:16:32","slug":"configuring-your-compiler-build-configurations","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/configuring-your-compiler-build-configurations\/","title":{"rendered":"0.9 &#8212; Configuring your compiler: Build configurations"},"content":{"rendered":"<p>A <strong>build configuration<\/strong> (also called a <strong>build target<\/strong>) is a collection of project settings that determines how your IDE will build your project.  The build configuration typically includes things like what the executable will be named, what directories the IDE will look in for other code and library files, whether to keep or strip out debugging information, how much to have the compiler optimize your program, etc&#8230;  Generally, you will want to leave these settings at their default values unless you have a specific reason to change something.<\/p>\n<p>When you create a new project in your IDE, most IDEs will set up two different build configurations for you: a release configuration, and a debug configuration.<\/p>\n<p>The <strong>debug configuration<\/strong> is designed to help you debug your program, and is generally the one you will use when writing your programs.  This configuration turns off all optimizations, and includes debugging information, which makes your programs larger and slower, but much easier to debug.  The debug configuration is usually selected as the active configuration by default.  We&#8217;ll talk more about debugging techniques in a later lesson.<\/p>\n<p>The <strong>release configuration<\/strong> is designed to be used when releasing your program to the public.  This version is typically optimized for size and performance, and doesn&#8217;t contain the extra debugging information.  Because the release configuration includes all optimizations, this mode is also useful for testing the performance of your code (which we&#8217;ll show you how to do later in the tutorial series).<\/p>\n<p>When the <em>Hello World<\/em> program (from lesson <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/compiling-your-first-program\/\">0.7 -- Compiling your first program<\/a>) was built using Visual Studio, the executable produced in the debug configuration was 65KB, whereas the executable built in the release version was 12KB.  The difference is largely due to the extra debugging information kept in the debug build.<\/p>\n<p>Although you can create your own custom build configurations, you&#8217;ll rarely have a reason to unless you want to compare two builds made using different compiler settings.<\/p>\n<div class=\"cpp-note cpp-lightgreenbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Best practice<\/p>\n<p>Use the <em>debug<\/em> build configuration when developing your programs. When you\u2019re ready to release your executable to others, or want to test performance, use the <em>release<\/em> build configuration.\n<\/div>\n<p>Some IDEs (e.g. Visual Studio) also create separate build configurations for different platforms.  For example, Visual Studio creates build configurations for both the x86 (32-bit) and the x64 (64-bit) platforms.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Switching between build configurations<\/p>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Visual Studio users<\/p>\n<p>There are multiple ways to switch between <em>debug<\/em> and <em>release<\/em> in Visual Studio.  The easiest way is to set your selection directly from the <em>Solution Configurations<\/em> dropdown in the <em>Standard Toolbar Options<\/em>:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter0\/VS-BuildTarget-min.png\" alt=\"VS Solution Configurations Dropdown\" \/><\/div>\n<p>Set it to <em>Debug<\/em> for now.<\/p>\n<p>You can also access the configuration manager dialog by selecting <em>Build menu &gt; Configuration Manager<\/em>, and change the <em>active solution configuration<\/em>.<\/p>\n<p>To the right of the <em>Solutions Configurations<\/em> dropdown, Visual Studio also has a <em>Solutions Platform<\/em> dropdown that allows you to switch between x86 (32-bit) and x64 (64-bit) platforms.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Code::Blocks users<\/p>\n<p>In Code::Blocks, you should see an item called <em>Build Target<\/em> in the <em>Compiler toolbar<\/em>:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter0\/CB-BuildTarget-min.png\" alt=\"Code::Blocks Build Target Dropdown\" \/><\/div>\n<p>Set it to <em>Debug<\/em> for now.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For gcc and Clang users<\/p>\n<p>Add <code>-ggdb<\/code> to the command line for debug builds and <code>-O2 -DNDEBUG<\/code> for release builds.  Use the debug build options for now.<\/p>\n<p>For GCC and Clang, the <code>-O#<\/code> option is used to control optimization settings.  The most common options are as follows:<\/p>\n<ul>\n<li><code>-O0<\/code> is the recommended optimization level for debug builds, as it disables optimization.  This is the default setting.\n<\/li>\n<li><code>-O2<\/code> is the recommended optimization level for release builds, as it applies optimizations that should be beneficial for all programs.\n<\/li>\n<li><code>-O3<\/code> adds additional optimizations that may or may not perform better than <code>-O2<\/code> depending on the specific program.  Once your program is written, you can try compiling your release build with <code>-O3<\/code> instead of <code>-O2<\/code> and measure to see which is faster.\n<\/li>\n<\/ul>\n<p>See <a href=\"https:\/\/gcc.gnu.org\/onlinedocs\/gcc\/Optimize-Options.html\">https:\/\/gcc.gnu.org\/onlinedocs\/gcc\/Optimize-Options.html<\/a> for information on optimization options.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For VS Code users<\/p>\n<p>When you first ran your program, a new file called <em>tasks.json<\/em> was created under the <em>.vscode<\/em> folder in the explorer pane.  Open the <em>tasks.json<\/em> file, find <em>&#8220;args&#8221;<\/em>, and then locate the line <em>&#8220;${file}&#8221;<\/em> within that section.<\/p>\n<p>Above the <em>&#8220;${file}&#8221;<\/em> line, add a new line containing the following command (one per line) when debugging:<br \/>\n<code>\"-ggdb\",<\/code><\/p>\n<p>Above the <em>&#8220;${file}&#8221;<\/em> line, add new lines containing the following commands (one per line) for release builds:<br \/>\n<code>\"-O2\",<\/code><br \/>\n<code>\"-DNDEBUG\",<\/code>\n<\/div>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Modifying build configurations<\/p>\n<p>In the next few lessons, we&#8217;ll show you how to tweak some settings in your build configurations.  Whenever changing a project setting, we recommend making the change in all build configurations.<\/p>\n<p>This will help prevent making the change to the wrong build configuration, and ensure the change is still applied if you happen to switch build configurations later.<\/p>\n<div class=\"cpp-note cpp-lightbluebackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Tip<\/p>\n<p>Whenever you update your project settings, make the change for all build configurations (unless it&#8217;s not appropriate for some reason).\n<\/p><\/div>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/configuring-your-compiler-compiler-extensions\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">0.10<\/span>Configuring your compiler: Compiler extensions\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/a-few-common-cpp-problems\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">0.8<\/span>A few common C++ problems\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>A (also called a ) is a collection of project settings that determines how your IDE will build your project. The build configuration typically includes things like what the executable will be named, what directories the IDE will look in for other code and library files, whether to keep or &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/1232"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=1232"}],"version-history":[{"count":26,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/1232\/revisions"}],"predecessor-version":[{"id":17578,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/1232\/revisions\/17578"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=1232"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=1232"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=1232"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}