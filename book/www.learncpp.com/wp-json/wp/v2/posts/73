{"id":73,"date":"2007-06-21T10:01:52","date_gmt":"2007-06-21T18:01:52","guid":{"rendered":"http:\/\/www.learncpp.com\/cpp-tutorial\/52-if-statements\/"},"modified":"2025-03-05T15:29:51","modified_gmt":"2025-03-05T23:29:51","slug":"if-statements-and-blocks","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/if-statements-and-blocks\/","title":{"rendered":"8.2 &#8212; If statements and blocks"},"content":{"rendered":"<p>The first category of control flow statements we&#8217;ll talk about is conditional statements.  A <strong>conditional statement<\/strong> is a statement that specifies whether some associated statement(s) should be executed or not.<\/p>\n<p>C++ supports two basic kinds of conditionals: <code>if statements<\/code> (which we introduced in lesson <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/introduction-to-if-statements\/\">4.10 -- Introduction to if statements<\/a>, and will talk about further here) and <code>switch statements<\/code> (which we&#8217;ll cover in a couple of lessons).<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Quick if-statement recap<\/p>\n<p>The most basic kind of conditional statement in C++ is the <code>if statement<\/code>.  An <code>if statement<\/code> takes the form:<\/p>\n<pre>\r\nif (condition)\r\n    true_statement;\r\n<\/pre>\n<p>or with an optional <code>else statement<\/code>:<\/p>\n<pre>\r\nif (condition)\r\n    true_statement;\r\nelse\r\n    false_statement;\r\n<\/pre>\n<p>If the <code>condition<\/code> evaluates to <code>true<\/code>, the <code>true_statement<\/code> executes.  If the <code>condition<\/code> evaluates to <code>false<\/code> and the optional <code>else statement<\/code> exists, the <code>false_statement<\/code> executes.<\/p>\n<p>Here is a simple program that uses an <code>if statement<\/code> with the optional <code>else statement<\/code>:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    std::cout &lt;&lt; \"Enter a number: \";\r\n    int x{};\r\n    std::cin &gt;&gt; x;\r\n\r\n    if (x &gt; 10)\r\n        std::cout &lt;&lt; x &lt;&lt; \" is greater than 10\\n\";\r\n    else\r\n        std::cout &lt;&lt; x &lt;&lt; \" is not greater than 10\\n\";\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This program works just like you&#8217;d expect:<\/p>\n<pre>\r\nEnter a number: 15\r\n15 is greater than 10\r\n<\/pre>\n<pre>\r\nEnter a number: 4\r\n4 is not greater than 10\r\n<\/pre>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">If or else with multiple conditional statements<\/p>\n<p>New programmers often try something like this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nnamespace constants\r\n{\r\n    constexpr int minRideHeightCM { 140 };\r\n}\r\n\r\nint main()\r\n{\r\n    std::cout &lt;&lt; \"Enter your height (in cm): \";\r\n    int x{};\r\n    std::cin &gt;&gt; x;\r\n\r\n    if (x &gt;= constants::minRideHeightCM)\r\n        std::cout &lt;&lt; \"You are tall enough to ride.\\n\";\r\n    else\r\n        std::cout &lt;&lt; \"You are not tall enough to ride.\\n\";\r\n        std::cout &lt;&lt; \"Too bad!\\n\"; \/\/ focus on this line\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>However, consider the following run of the program:<\/p>\n<pre>\r\nEnter your height (in cm): 180\r\nYou are tall enough to ride.\r\nToo bad!\r\n<\/pre>\n<p>This program doesn&#8217;t work as expected because the <code>true_statement<\/code> and <code>false_statement<\/code> can only be a single statement.  The indentation is deceiving us here -- the above program executes as if it had been written as follows:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nnamespace constants\r\n{\r\n    constexpr int minRideHeightCM { 140 };\r\n}\r\n\r\nint main()\r\n{\r\n    std::cout &lt;&lt; \"Enter your height (in cm): \";\r\n    int x{};\r\n    std::cin &gt;&gt; x;\r\n\r\n    if (x &gt;= constants::minRideHeightCM)\r\n        std::cout &lt;&lt; \"You are tall enough to ride.\\n\";\r\n    else\r\n        std::cout &lt;&lt; \"You are not tall enough to ride.\\n\";\r\n\r\n    std::cout &lt;&lt; \"Too bad!\\n\"; \/\/ focus on this line\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This makes it clearer that &#8220;Too bad!&#8221; will always execute.<\/p>\n<p>However, it&#8217;s common to want to execute multiple statements based on some condition.  To do so, we can use a compound statement (block):<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nnamespace constants\r\n{\r\n    constexpr int minRideHeightCM { 140 };\r\n}\r\n\r\nint main()\r\n{\r\n    std::cout &lt;&lt; \"Enter your height (in cm): \";\r\n    int x{};\r\n    std::cin &gt;&gt; x;\r\n\r\n    if (x &gt;= constants::minRideHeightCM)\r\n        std::cout &lt;&lt; \"You are tall enough to ride.\\n\";\r\n    else\r\n    { \/\/ note addition of block here\r\n        std::cout &lt;&lt; \"You are not tall enough to ride.\\n\";\r\n        std::cout &lt;&lt; \"Too bad!\\n\";\r\n    }\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>Remember that blocks are treated as a single statement, so this now works as expected:<\/p>\n<pre>\r\nEnter your height (in cm): 180\r\nYou are tall enough to ride.\r\n<\/pre>\n<pre>\r\nEnter your height (in cm): 130\r\nYou are not tall enough to ride.\r\nToo bad!\r\n<\/pre>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Implicit blocks<\/p>\n<p>If the programmer does not declare a block in the statement portion of an <code>if statement<\/code> or <code>else statement<\/code>, the compiler will implicitly declare one.  Thus:<\/p>\n<pre>\r\nif (condition)\r\n    true_statement;\r\nelse\r\n    false_statement;\r\n<\/pre>\n<p>is actually the equivalent of:<\/p>\n<pre>\r\nif (condition)\r\n{\r\n    true_statement;\r\n}\r\nelse\r\n{\r\n    false_statement;\r\n}\r\n<\/pre>\n<p>Most of the time, this doesn&#8217;t matter.  However, new programmers sometimes try to define variables in the implicit block, like this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    if (true)\r\n        int x{ 5 };\r\n    else\r\n        int x{ 6 };\r\n\r\n    std::cout &lt;&lt; x &lt;&lt; '\\n';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This won&#8217;t compile, with the compiler generating an error that identifier <code>x<\/code> isn&#8217;t defined.  This is because the above example is the equivalent of:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    if (true)\r\n    {\r\n        int x{ 5 };\r\n    } \/\/ x destroyed here\r\n    else\r\n    {\r\n        int x{ 6 };\r\n    } \/\/ x destroyed here\r\n\r\n    std::cout &lt;&lt; x &lt;&lt; '\\n'; \/\/ x isn't in scope here\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>In this context, it&#8217;s clearer that variable <code>x<\/code> has block scope and is destroyed at the end of the block.  By the time we get to the <code>std::cout<\/code> line, <code>x<\/code> doesn&#8217;t exist.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">To block or not to block single statements<\/p>\n<p>There is debate within the programmer community as to whether single statements following an <code>if<\/code> or <code>else<\/code> should be explicitly enclosed in blocks or not.<\/p>\n<p>There are many reasons given as rationale for using blocks.<\/p>\n<ol start=\"1\">\n<li>Not using blocks makes it easier to inadvertently add statements that look like they are conditional but aren&#8217;t.  Consider:\n<\/li>\n<\/ol>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">if (age &gt;= minDrinkingAge)\r\n    purchaseBeer();<\/code><\/pre>\n<p>Now let&#8217;s say we&#8217;re in a hurry and modify this program to add another ability:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">if (age &gt;= minDrinkingAge)\r\n    purchaseBeer();\r\n    gamble(); \/\/ will always execute<\/code><\/pre>\n<p>Oops, we&#8217;ve just allowed minors to gamble.  Have fun in jail!<\/p>\n<ol start=\"2\">\n<li>Not using blocks can make programs more difficult to debug.  Let&#8217;s say we have the following snippet:\n<\/li>\n<\/ol>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">if (age &gt;= minDrinkingAge)\r\n    addBeerToCart(); \/\/ conditionally executes\r\n\r\ncheckout(); \/\/ always executes<\/code><\/pre>\n<p>Let&#8217;s say we suspect something is wrong with the <code>addBeerToCart()<\/code> function, so we comment it out:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">if (age &gt;= minDrinkingAge)\r\n\/\/    addBeerToCart();\r\n\r\ncheckout(); \/\/ conditionally executes now<\/code><\/pre>\n<p>Now we&#8217;ve made <code>checkout()<\/code> conditional, which we certainly didn&#8217;t intend.<\/p>\n<p>Neither of the above occur if you always use blocks after an <code>if<\/code> or <code>else<\/code>.<\/p>\n<ol start=\"3\">\n<li><code>if constexpr<\/code> (a variant of the if-statement added in C++23) requires the use of blocks.  Thus using blocks ensures consistency between <code>if<\/code> and <code>if constexpr<\/code>.\n<\/li>\n<\/ol>\n<p>The best argument for not using blocks around single statements is that adding blocks makes you able to see less of your code at one time by spacing it out vertically, which makes your code less readable and can lead to other, more serious mistakes.<\/p>\n<p>The community seems to be more in favor of always using blocks than not, though this recommendation certainly isn&#8217;t ubiquitous.<\/p>\n<div class=\"cpp-note cpp-lightgreenbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Best practice<\/p>\n<p>Consider putting single statements associated with an <code>if<\/code> or <code>else<\/code> in blocks (particularly while you are learning).  More experienced C++ developers sometimes disregard this practice in favor of tighter vertical spacing.\n<\/div>\n<p>A reasonable middle-ground alternative is to put single-lines on the same line as the <code>if<\/code> or <code>else<\/code>:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">if (age &gt;= minDrinkingAge) purchaseBeer();\r\nelse std::cout &lt;&lt; \"No drinky for you\\n\".<\/code><\/pre>\n<p>This avoids both of the above downsides mentioned above at some minor cost to readability.<\/p>\n<p>One fair criticism of the single-line method is that it produces code that is harder to debug:<\/p>\n<ul>\n<li>Because the conditional and associated statement will execute as part of the same step, it is more difficult to tell whether the statement actually executed or was skipped.\n<\/li>\n<li>Because the conditional and associated statement are on the same line, you can&#8217;t breakpoint just the associated statement (to stop execution only when the statement actually executes).\n<\/li>\n<\/ul>\n<p>However, if either of the above points are hindering when debugging, you can insert a newline between the conditional and the statement (so they are on separate lines), do your debugging, then remove the newline afterward.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">If-else vs if-if<\/p>\n<p>New programmers sometimes wonder when they should use if-else (if followed by one or more else-statements) or if-if (if followed by one or more additional if-statements).<\/p>\n<ul>\n<li>Use if-else when you only want to execute the code after the first <code>true<\/code> condition.\n<\/li>\n<li>Use if-if when you want to execute the code after all <code>true<\/code> conditions.\n<\/li>\n<\/ul>\n<p>Here&#8217;s a program that demonstrates this:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nvoid ifelse(bool a, bool b, bool c)\r\n{\r\n    if (a)      \/\/ always evaluates\r\n        std::cout &lt;&lt; \"a\";\r\n    else if (b) \/\/ only evaluates when prior if-statement condition is false\r\n        std::cout &lt;&lt; \"b\";\r\n    else if (c) \/\/ only evaluates when prior if-statement condition is false\r\n        std::cout &lt;&lt; \"c\";\r\n    std::cout &lt;&lt; '\\n';\r\n}\r\n\r\nvoid ifif(bool a, bool b, bool c)\r\n{\r\n    if (a) \/\/ always evaluates\r\n        std::cout &lt;&lt; \"a\";\r\n    if (b) \/\/ always evaluates\r\n        std::cout &lt;&lt; \"b\";\r\n    if (c) \/\/ always evaluates\r\n        std::cout &lt;&lt; \"c\";\r\n    std::cout &lt;&lt; '\\n';\r\n}\r\n\r\nint main()\r\n{\r\n    ifelse(false, true, true);\r\n    ifif(false, true, true);\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>In the call to <code>ifelse(false, true, true)<\/code>, <code>a<\/code> is <code>false<\/code>, so we do not execute the associated statement, and the associated <code>else<\/code> is executed instead.  <code>b<\/code> is true, so we print <code>b<\/code>.  Since this <code>if<\/code> condition was true, the associated <code>else<\/code> will not execute (and neither would any other <code>else<\/code> statements immediately following that one).  Note that we only executed the code immediately after the first <code>true<\/code> condition (<code>b<\/code>).<\/p>\n<p>In the call to <code>ifif(false, true, true)<\/code>, <code>a<\/code> is false, so we do not execute the associated statement, and move to the next <code>if<\/code>.  <code>b<\/code> is true, so we print <code>b<\/code> and move to the next <code>if<\/code>.  <code>c<\/code> is true, so we print <code>c<\/code>.  Note that we executed the code after all <code>true<\/code> conditions (<code>b<\/code> and <code>c<\/code>).<\/p>\n<p>Now look at this somewhat similar function:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">char getFirstMatchingChar(bool a, bool b, bool c)\r\n{\r\n    if (a) \/\/ always evaluates\r\n        return 'a';\r\n    else if (b) \/\/ only evaluates when prior if-statement condition is false\r\n        return 'b';\r\n    else if (c) \/\/ only evaluates when prior if-statement condition is false\r\n        return 'c';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>Since we&#8217;re using if-else, it&#8217;s clear we only want to execute the code after the first <code>true<\/code> condition.  But when every associated statement returns a value, we can write this instead:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">char getFirstMatchingChar(bool a, bool b, bool c)\r\n{\r\n    if (a) \/\/ always evaluates\r\n        return 'a'; \/\/ returns when if-statement is true\r\n    if (b) \/\/ only evaluates when prior if-statement condition is false\r\n        return 'b'; \/\/ returns when if-statement is true\r\n    if (c) \/\/ only evaluates when prior if-statement condition is false\r\n        return 'c'; \/\/ returns when if-statement is true\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>While this might superficially look like we want to execute the code after every <code>true<\/code> condition, as soon as we find the first <code>true<\/code> condition, the associated statement will cause the function to return.  The remaining if-statements never have a chance to evaluate.  Therefore, this behaves equivalently to the prior version.  When every associated statement returns a value, many programmers prefer to omit the <code>else<\/code> keywords, as doing so avoids unnecessary clutter and the conditions line up better.<\/p>\n<div class=\"cpp-note cpp-lightbluebackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Key insight<\/p>\n<p>When all associated statements return a value, you can always just use if-if since <code>else<\/code> provides no value.\n<\/div>\n<p>We&#8217;ll continue our exploration of if-statements in the next lesson.<\/p>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/common-if-statement-problems\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">8.3<\/span>Common if statement problems\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/control-flow-introduction\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">8.1<\/span>Control flow introduction\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>The first category of control flow statements we&#8217;ll talk about is conditional statements. A is a statement that specifies whether some associated statement(s) should be executed or not. C++ supports two basic kinds of conditionals: if statements (which we introduced in lesson , and will talk about further here) and &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/73"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=73"}],"version-history":[{"count":47,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/73\/revisions"}],"predecessor-version":[{"id":18238,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/73\/revisions\/18238"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=73"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=73"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=73"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}