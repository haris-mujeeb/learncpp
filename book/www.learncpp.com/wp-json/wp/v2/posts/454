{"id":454,"date":"2010-07-18T15:35:17","date_gmt":"2010-07-18T23:35:17","guid":{"rendered":"http:\/\/www.learncpp.com\/?p=454"},"modified":"2022-08-24T22:58:03","modified_gmt":"2022-08-25T05:58:03","slug":"stdstring-appending","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-appending\/","title":{"rendered":"22.6 &#8212; std::string appending"},"content":{"rendered":"<p><strong>Appending<\/strong><\/p>\n<p>Appending strings to the end of an existing string is easy using either operator+=, append(), or push_back().<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::operator+= (const string&#038; str)<\/b><br \/>\n<b>string&#038; string::append (const string&#038; str)<\/b><br \/>\n<\/p>\n<ul>\n<li>Both functions append the characters of str to the string.\n<li>Both functions return *this so they can be &#8220;chained&#8221;.\n<li>Both functions throw a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString{\"one\"};\r\n\r\nsString += std::string{\" two\"};\r\n\r\nstd::string sThree{\" three\"};\r\nsString.append(sThree);\r\n\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\none two three\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>There&#8217;s also a flavor of append() that can append a substring:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::append (const string&#038; str, size_type index, size_type num)<\/b><\/p>\n<ul>\n<li>This function appends num characters from str, starting at index, to the string.\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<li>Throws an out_of_range if index is out of bounds\n<li>Throws a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString{\"one \"};\r\n\r\nconst std::string sTemp{\"twothreefour\"};\r\nsString.append(sTemp, 3, 5); \/\/ append substring of sTemp starting at index 3 of length 5\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\none three\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>Operator+= and append() also have versions that work on C-style strings:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::operator+= (const char* str)<\/b><br \/>\n<b>string&#038; string::append (const char* str)<\/b><br \/>\n<\/p>\n<ul>\n<li>Both functions append the characters of str to the string.\n<li>Both functions return *this so they can be &#8220;chained&#8221;.\n<li>Both functions throw a length_error exception if the result exceeds the maximum number of characters.\n<li>str should not be NULL.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString{\"one\"};\r\n\r\nsString += \" two\";\r\nsString.append(\" three\");\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\none two three\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>There is an additional flavor of append() that works on C-style strings:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::append (const char* str, size_type len)<\/b><br \/>\n<\/p>\n<ul>\n<li>Appends the first len characters of str to the string.\n<li>Returns *this so they can be &#8220;chained&#8221;.\n<li>Throw a length_error exception if the result exceeds the maximum number of characters.\n<li>Ignores special characters (including &#8221;)\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString{\"one \"};\r\n\r\nsString.append(\"threefour\", 5);\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\none three\r\n<\/pre>\n<p>This function is dangerous and its use is not recommended.<\/p>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>There is also a set of functions that append characters.  Note that the name of the non-operator function to append a character is push_back(), not append()!<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::operator+= (char c)<\/b><br \/>\n<b>void string::push_back (char c)<\/b><br \/>\n<\/p>\n<ul>\n<li>Both functions append the character c to the string.\n<li>Operator += returns *this so it can be &#8220;chained&#8221;.\n<li>Both functions throw a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString{\"one\"};\r\n\r\nsString += ' ';\r\nsString.push_back('2');\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\none 2\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>Now you might be wondering why the name of the function is push_back() and not append().  This follows a naming convention used for stacks, where push_back() is the function that adds a single item to the end of the stack.  If you envision a string as a stack of characters, using push_back() to add a single character to the end makes sense.  However, the lack of an append() function is inconsistent in my view!<\/p>\n<p>It turns out there is an append() function for characters, that looks like this:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::append (size_type num, char c)<\/b><br \/>\n<\/p>\n<ul>\n<li>Adds num occurrences of the character c to the string\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<li>Throws a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString{\"aaa\"};\r\n\r\nsString.append(4, 'b');\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\naaabbbb\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>There&#8217;s one final flavor of append() that works with iterators:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::append (InputIterator start, InputIterator end)<\/b><br \/>\n<\/p>\n<ul>\n<li>Appends all characters from the range [start, end) (including start up to but not including end)\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<li>Throws a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-inserting\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">22.7<\/span>std::string inserting\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-assignment-and-swapping\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">22.5<\/span>std::string assignment and swapping\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>Appending Appending strings to the end of an existing string is easy using either operator+=, append(), or push_back(). There&#8217;s also a flavor of append() that can append a substring: Operator+= and append() also have versions that work on C-style strings: There is an additional flavor of append() that works on &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[12,14,16],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/454"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=454"}],"version-history":[{"count":15,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/454\/revisions"}],"predecessor-version":[{"id":13528,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/454\/revisions\/13528"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=454"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=454"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=454"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}