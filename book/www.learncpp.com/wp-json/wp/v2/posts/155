{"id":155,"date":"2007-11-21T09:58:28","date_gmt":"2007-11-21T17:58:28","guid":{"rendered":"http:\/\/www.learncpp.com\/cpp-tutorial\/a5-debugging-your-program-watching-variables-and-the-call-stack\/"},"modified":"2024-01-05T12:09:35","modified_gmt":"2024-01-05T20:09:35","slug":"using-an-integrated-debugger-watching-variables","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/using-an-integrated-debugger-watching-variables\/","title":{"rendered":"3.8 &#8212; Using an integrated debugger: Watching variables"},"content":{"rendered":"<p>In the previous lessons (<a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/using-an-integrated-debugger-stepping\/\">3.6 -- Using an integrated debugger: Stepping<\/a> and <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/using-an-integrated-debugger-running-and-breakpoints\/\">3.7 -- Using an integrated debugger: Running and breakpoints<\/a>), you learned how to use the debugger to watch the path of execution through your program.  However, stepping through a program is only half of what makes the debugger useful.  The debugger also lets you examine the value of variables as you step through your code, all without having to modify your code.<\/p>\n<p>As per previous lessons, our examples here will use Visual Studio -- if you are using a different IDE\/debugger, the commands may have slightly different names or be located in different locations.<\/p>\n<div class=\"cpp-note cpp-lightredbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Warning<\/p>\n<p>In case you are returning, make sure your project is compiled using a debug build configuration (see <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/configuring-your-compiler-build-configurations\/\">0.9 -- Configuring your compiler: Build configurations<\/a> for more information).  If you&#8217;re compiling your project using a release configuration instead, the functionality of the debugger may not work correctly.\n<\/p><\/div>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Watching variables<\/p>\n<p><strong>Watching a variable<\/strong> is the process of inspecting the value of a variable while the program is executing in debug mode.  Most debuggers provide several ways to do this.<\/p>\n<p>Let&#8217;s take a look at a sample program:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n\tint x{ 1 };\r\n\tstd::cout &lt;&lt; x &lt;&lt; ' ';\r\n\r\n\tx = x + 2;\r\n\tstd::cout &lt;&lt; x &lt;&lt; ' ';\r\n\r\n\tx = x + 3;\r\n\tstd::cout &lt;&lt; x &lt;&lt; ' ';\r\n\r\n\treturn 0;\r\n}<\/code><\/pre>\n<p>This is a pretty straightforward sample program -- it prints the numbers 1, 3, and 6.<\/p>\n<p>First, <em>run to cursor<\/em> to line 6.<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-Watch1-min.png\" alt=\"\" \/><\/div>\n<p>At this point, the variable x has already been created and initialized with the value 1, so when we examine the value of x, we should expect to see the value 1.<\/p>\n<p>The easiest way to examine the value of a simple variable like x is to hover your mouse over the variable x.  Some modern debuggers support this method of inspecting simple variables, and it is the most straightforward way to do so.<\/p>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Code::Blocks users<\/p>\n<p>If you&#8217;re using Code::Blocks, this option is (inexplicably) off by default.  Let&#8217;s turn it on.  First, go to <em>Settings menu &gt; Debugger&#8230;<\/em>.  Then under the <em>GDB\/CDB debugger node<\/em>, select the <em>Default<\/em> profile.  Finally, check the box labeled <em>Evaluate expression under cursor<\/em>.<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/CB-EvaluateExpression-min.png\" alt=\"\" \/><\/div><\/div>\n<p>Hover your mouse cursor over variable x on line 6, and you should see something like this:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-Watch2-min.png\" alt=\"\" \/><\/div>\n<p>Note that you can hover over any variable x, not just the one on the current line.  For example, if we hover over the x on line 12, we&#8217;ll see the same value:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-Watch3-min.png\" alt=\"\" \/><\/div>\n<p>If you&#8217;re using Visual Studio, you can also use QuickWatch.  Highlight the variable name x with your mouse, and then choose &#8220;QuickWatch&#8221; from the right-click menu. <\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-QuickWatch1-min.png\" alt=\"\" \/><\/div>\n<p>This will pull up a subwindow containing the current value of the variable:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-QuickWatch2-min.png\" alt=\"\" \/><\/div>\n<p>Go ahead and close QuickWatch if you opened it.<\/p>\n<p>Now let&#8217;s watch this variable change as we step through the program.  Either choose <em>step over<\/em> twice, or <em>run to cursor<\/em> to line 9.  The variable x should now have value <em>3<\/em>.  Inspect it and make sure that it does!<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-Watch4-min.png\" alt=\"\" \/><\/div>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">The watch window<\/p>\n<p>Using the mouse hover or QuickWatch methods to inspect variables is fine if you want to know the value of a variable at a particular point in time, but it&#8217;s not particularly well suited to watching the value of a variable change as you run the code because you continually have to rehover\/reselect the variable.<\/p>\n<p>In order to address this issue, all modern integrated debuggers provide another feature, called a watch window.  The <strong>watch window<\/strong> is a window where you can add variables you would like to continually inspect, and these variables will be updated as you step through your program.  The watch window may already be on your screen when you enter debug mode, but if it is not, you can bring it up through your IDE&#8217;s window commands (these are typically found in a View or Debug menu).<\/p>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Visual Studio users<\/p>\n<p>In Visual Studio, the watch window can be found at <em>Debug menu &gt; Windows &gt; Watch &gt; Watch 1<\/em>.  Do note that you have to be in debug mode for this option to be enabled, so <em>step into<\/em> your program first.<\/p>\n<p>Where this window appears (docked left, right, or bottom) may vary.  You can change where it is docked by dragging the <em>Watch 1<\/em> tab to a different side of the application window.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Code::Blocks users<\/p>\n<p>In Code::Blocks, the watch window can be found at <em>Debug menu &gt; Debugging windows &gt; Watches<\/em>.  This window will likely appear as a separate window.  You can dock it into your main window by dragging it over.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For VS Code users<\/p>\n<p>In VS Code, the watch window appears in debug mode, docked on the left above the call stack.\n<\/p><\/div>\n<p>You should now see something like this:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-Watch5-min.png\" alt=\"\" \/><\/div>\n<p>The watches window may or may not contain anything in it already.<\/p>\n<p>There are typically two different ways to add variables to the watch window:<\/p>\n<ol>\n<li>Pull up the watch window, and type in the name of the variable you would like to watch in the leftmost column of the watch window.<\/li>\n<li>In the code window, right click on the variable you&#8217;d like to watch, and choose <em>Add Watch<\/em> (Visual Studio) or <em>Watch x<\/em> (replace x with the variable&#8217;s name) (Code::Blocks).<\/li>\n<\/ol>\n<p>If you&#8217;re not already in a debugging session with the execution marker on line 9 of your program, start a new debugging session and <em>run to cursor<\/em> to line 9.<\/p>\n<p>Now, go ahead and add the variable &#8220;x&#8221; to your watch list.  You should now see this:<\/p>\n<div class=\"cpp-image-wrapper\"><img src=\"https:\/\/www.learncpp.com\/images\/CppTutorial\/Chapter3\/VS-Watch6-min.png\" alt=\"\" \/><\/div>\n<p>Now <em>step over<\/em> twice, or <em>run to cursor<\/em> to line 12, and you should see the value of <em>x<\/em> change from <em>3<\/em> to <em>6<\/em>.<\/p>\n<p>Variables that go out of scope (e.g. a local variable inside a function that has already returned to the caller) will stay in your watch window, but will generally either be marked as &#8220;not available&#8221;, or may show the last known value but grayed out.  If the variable returns to scope (e.g. the function is called again), its value will begin showing again.  Therefore, it&#8217;s fine to leave variables in the watch window, even if they&#8217;re out of scope.<\/p>\n<p>Using watches is the best way to watch the value of a variable change over time as you step through your program.<\/p>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Setting a breakpoint on watched variables<\/p>\n<p>Some debuggers will allow you to set a breakpoint on a watched variable rather than a line.  This will cause the program to stop execution whenever the value of that variable changes.<\/p>\n<p>For example, setting such a breakpoint on variable <code>x<\/code> in the above program will cause the debugger to stop after executing lines 8 and 11 (which is where the value of <code>x<\/code> is changed).<\/p>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Visual Studio users<\/p>\n<p>In Visual Studio, make sure your variable is being watched.  Next, <em>step into<\/em> your program and go to the watch window.  Right click on the variable and select &#8220;Break when value changes&#8221;.<\/p>\n<p>You will need to re-enable &#8220;Break when value changes&#8221; each time you start a debugging session.\n<\/p><\/div>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">The watch window can evaluate expressions too<\/p>\n<p>The watch window will also allow you to evaluate simple expressions.  If you haven&#8217;t already, <em>run to cursor<\/em> to line 12.  Then try entering <em>x + 2<\/em> into the watch window and see what happens (it should evaluate to 8).<\/p>\n<p>You can also highlight an expression in your code and then inspect the value of that expression via hover or by adding it to the watch window via the right-click context menu.<\/p>\n<div class=\"cpp-note cpp-lightredbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Warning<\/p>\n<p>Identifiers in watched expressions will evaluate to their current values.  If you want to know what value an expression in your code is actually evaluating to, <em>run to cursor<\/em> to it first, so that all identifiers have the correct values.\n<\/div>\n<p class=\"cpp-section cpp-topline\" style=\"clear: both\">Local watches<\/p>\n<p>Because inspecting the value of local variables inside a function is common while debugging, many debuggers will offer some way to quickly watch the value of <em>all<\/em> local variables in scope.<\/p>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Visual Studio users<\/p>\n<p>In Visual Studio, you can see the value of all local variables in the <em>Locals<\/em> window, which can be found at <em>Debug menu &gt; Windows &gt; Locals<\/em>.  Note that you have to be in a debug session to activate this window.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For Code::Blocks users<\/p>\n<p>In Code::Blocks, this is integrated into the <em>Watch<\/em> window, under the <em>Locals<\/em> node.  If you don&#8217;t see any, there either aren&#8217;t any, or you need to uncollapse the node.\n<\/div>\n<div class=\"cpp-note cpp-lightyellowbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">For VS Code users<\/p>\n<p>In VS Code, the value of local variables can be found in the <em>VARIABLES<\/em> section that appears docked to the left in debug mode.  You may need to uncollapse the <em>Locals<\/em> node.\n<\/div>\n<p>If you&#8217;re just looking to watch the value of a local variable, check the <em>locals<\/em> window first.  It should already be there.<\/p>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/using-an-integrated-debugger-the-call-stack\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">3.9<\/span>Using an integrated debugger: The call stack\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/using-an-integrated-debugger-running-and-breakpoints\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">3.7<\/span>Using an integrated debugger: Running and breakpoints\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>In the previous lessons ( and ), you learned how to use the debugger to watch the path of execution through your program. However, stepping through a program is only half of what makes the debugger useful. The debugger also lets you examine the value of variables as you step &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/155"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=155"}],"version-history":[{"count":23,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/155\/revisions"}],"predecessor-version":[{"id":16426,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/155\/revisions\/16426"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=155"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=155"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=155"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}