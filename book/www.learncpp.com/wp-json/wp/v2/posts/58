{"id":58,"date":"2007-06-14T07:41:55","date_gmt":"2007-06-14T15:41:55","guid":{"rendered":"http:\/\/www.learncpp.com\/cpp-tutorial\/34-sizeof-comma-and-arithmetic-if-operators\/"},"modified":"2023-10-24T09:54:11","modified_gmt":"2023-10-24T16:54:11","slug":"the-comma-operator","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/the-comma-operator\/","title":{"rendered":"6.5 &#8212; The comma operator"},"content":{"rendered":"<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<th>Operator<\/th>\n<th>Symbol<\/th>\n<th>Form<\/th>\n<th>Operation<\/th>\n<\/tr>\n<tr>\n<td>Comma<\/td>\n<td>,<\/td>\n<td>x, y<\/td>\n<td>Evaluate x then y, returns value of y<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>The <strong>comma operator (,)<\/strong> allows you to evaluate multiple expressions wherever a single expression is allowed.  The comma operator evaluates the left operand, then the right operand, and then returns the result of the right operand.<\/p>\n<p>For example:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    int x{ 1 };\r\n    int y{ 2 };\r\n\r\n    std::cout &lt;&lt; (++x, ++y) &lt;&lt; '\\n'; \/\/ increment x and y, evaluates to the right operand\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>First the left operand of the comma operator is evaluated, which increments <em>x<\/em> from <em>1<\/em> to <em>2<\/em>.  Next, the right operand is evaluated, which increments <em>y<\/em> from <em>2<\/em> to <em>3<\/em>.  The comma operator returns the result of the right operand (<em>3<\/em>), which is subsequently printed to the console.<\/p>\n<p>Note that comma has the lowest precedence of all the operators, even lower than assignment.  Because of this, the following two lines of code do different things:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">z = (a, b); \/\/ evaluate (a, b) first to get result of b, then assign that value to variable z.\r\nz = a, b; \/\/ evaluates as \"(z = a), b\", so z gets assigned the value of a, and b is evaluated and discarded.<\/code><\/pre>\n<p>This makes the comma operator somewhat dangerous to use.<\/p>\n<p>In almost every case, a statement written using the comma operator would be better written as separate statements.  For example, the above code could be written as:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nint main()\r\n{\r\n    int x{ 1 };\r\n    int y{ 2 };\r\n\r\n    ++x;\r\n    std::cout &lt;&lt; ++y &lt;&lt; '\\n';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>Most programmers do not use the comma operator at all, with the single exception of inside <em>for loops<\/em>, where its use is fairly common.  We discuss for loops in future lesson <a href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/for-statements\/\">8.10 -- For statements<\/a>.<\/p>\n<div class=\"cpp-note cpp-lightgreenbackground\">\n<p class=\"cpp-note-title cpp-bottomline\">Best practice<\/p>\n<p>Avoid using the comma operator, except within <em>for loops<\/em>.\n<\/div>\n<p class=\"cpp-section\">Comma as a separator<\/p>\n<p>In C++, the comma symbol is often used as a separator, and these uses do not invoke the comma operator.  Some examples of separator commas:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">void foo(int x, int y) \/\/ Separator comma used to separate parameters in function definition\r\n{\r\n    add(x, y); \/\/ Separator comma used to separate arguments in function call\r\n    constexpr int z{ 3 }, w{ 5 }; \/\/ Separator comma used to separate multiple variables being defined on the same line (don't do this)\r\n}<\/code><\/pre>\n<p>There is no need to avoid separator commas (except when declaring multiple variables, which you should not do).<\/p>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/the-conditional-operator\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">6.6<\/span>The conditional operator\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/increment-decrement-operators-and-side-effects\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">6.4<\/span>Increment\/decrement operators, and side effects\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>The allows you to evaluate multiple expressions wherever a single expression is allowed. The comma operator evaluates the left operand, then the right operand, and then returns the result of the right operand. For example: #include &lt;iostream&gt; int main() { int x{ 1 }; int y{ 2 }; std::cout &lt;&lt; &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/58"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=58"}],"version-history":[{"count":39,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/58\/revisions"}],"predecessor-version":[{"id":1376,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/58\/revisions\/1376"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=58"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=58"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=58"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}