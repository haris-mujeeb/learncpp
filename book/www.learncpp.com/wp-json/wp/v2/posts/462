{"id":462,"date":"2010-07-18T21:50:27","date_gmt":"2010-07-19T05:50:27","guid":{"rendered":"http:\/\/www.learncpp.com\/?p=462"},"modified":"2021-08-26T14:47:12","modified_gmt":"2021-08-26T22:47:12","slug":"stdstring-inserting","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-inserting\/","title":{"rendered":"22.7 &#8212; std::string inserting"},"content":{"rendered":"<p><strong>Inserting<\/strong><\/p>\n<p>Inserting characters into an existing string can be done via the insert() function.<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::insert (size_type index, const string&#038; str)<\/b><br \/>\n<b>string&#038; string::insert (size_type index, const char* str)<\/b><\/p>\n<ul>\n<li>Both functions insert the characters of str into the string at index\n<li>Both function return *this so they can be &#8220;chained&#8221;.\n<li>Both functions throw out_of_range if index is invalid\n<li>Both functions throw a length_error exception if the result exceeds the maximum number of characters.\n<li>In the C-style string version, str must not be NULL.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">string sString(\"aaaa\");\r\ncout &lt;&lt; sString &lt;&lt; endl;\r\n\r\nsString.insert(2, string(\"bbbb\"));\r\ncout &lt;&lt; sString &lt;&lt; endl;\r\n\r\nsString.insert(4, \"cccc\");\r\ncout &lt;&lt; sString &lt;&lt; endl;<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\naaaa\r\naabbbbaa\r\naabbccccbbaa\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>Here&#8217;s a crazy version of insert() that allows you to insert a substring into a string at an arbitrary index:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::insert (size_type index, const string&#038; str, size_type startindex, size_type num)<\/b><\/p>\n<ul>\n<li>This function inserts num characters str, starting from startindex, into the string at index.\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<li>Throws an out_of_range if index or startindex is out of bounds\n<li>Throws a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">string sString(\"aaaa\");\r\n\r\nconst string sInsert(\"01234567\");\r\nsString.insert(2, sInsert, 3, 4); \/\/ insert substring of sInsert from index [3,7) into sString at index 2\r\ncout &lt;&lt; sString &lt;&lt; endl;<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\naa3456aa\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>There is a flavor of insert() that inserts the first portion of a C-style string:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::insert(size_type index, const char* str, size_type len)<\/b><\/p>\n<ul>\n<li>Inserts len characters of str into the string at index\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<li>Throws an out_of_range exception if the index is invalid\n<li>Throws a length_error exception if the result exceeds the maximum number of characters.\n<li>Ignores special characters (such as &#8221;)\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">string sString(\"aaaa\");\r\n\r\nsString.insert(2, \"bcdef\", 3);\r\ncout &lt;&lt; sString &lt;&lt; endl;<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\naabcdaa\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>There&#8217;s also a flavor of insert() that inserts the same character multiple times:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::insert(size_type index, size_type num, char c)<\/b><\/p>\n<ul>\n<li>Inserts num instances of char c into the string at index\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<li>Throws an out_of_range exception if the index is invalid\n<li>Throws a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">string sString(\"aaaa\");\r\n\r\nsString.insert(2, 4, 'c');\r\ncout &lt;&lt; sString &lt;&lt; endl;<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\naaccccaa\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>And finally, the insert() function also has three different versions that use iterators:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>void insert(iterator it, size_type num, char c)<\/b><br \/>\n<b>iterator string::insert(iterator it, char c)<\/b><br \/>\n<b>void string::insert(iterator it, InputIterator begin, InputIterator end)<\/b><\/p>\n<ul>\n<li>The first function inserts num instances of the character c before the iterator it.\n<li>The second inserts a single character c before the iterator it, and returns an iterator to the position of the character inserted.\n<li>The third inserts all characters between [begin,end) before the iterator it.\n<li>All functions throw a length_error exception if the result exceeds the maximum number of characters.\n<\/ul>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"#\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\"><\/span>No next lesson\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-appending\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">22.6<\/span>std::string appending\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>Inserting Inserting characters into an existing string can be done via the insert() function. Here&#8217;s a crazy version of insert() that allows you to insert a substring into a string at an arbitrary index: There is a flavor of insert() that inserts the first portion of a C-style string: There&#8217;s &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[12,14,16],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/462"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=462"}],"version-history":[{"count":7,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/462\/revisions"}],"predecessor-version":[{"id":11882,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/462\/revisions\/11882"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=462"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=462"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=462"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}