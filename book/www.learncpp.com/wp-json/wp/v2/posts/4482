{"id":4482,"date":"2016-08-23T16:36:26","date_gmt":"2016-08-24T00:36:26","guid":{"rendered":"http:\/\/www.learncpp.com\/?p=4482"},"modified":"2023-09-11T11:13:34","modified_gmt":"2023-09-11T18:13:34","slug":"dependencies","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/dependencies\/","title":{"rendered":"23.5 &#8212; Dependencies"},"content":{"rendered":"<p>So far, we&#8217;ve explored 3 types of relationships: composition, aggregation, and association.  We&#8217;ve saved the simplest one for last: dependencies.<\/p>\n<p>In casual conversation, we use the term dependency to indicate that an object is reliant upon another object for a given task.  For example, if you break your foot, you are dependent on crutches to get around (but not otherwise).  Flowers are dependent upon bees to pollinate them, in order to grow fruit or propagate (but not otherwise).<\/p>\n<p>A <strong>dependency<\/strong> occurs when one object invokes another object&#8217;s functionality in order to accomplish some specific task.  This is a weaker relationship than an association, but still, any change to object being depended upon may break functionality in the (dependent) caller.  A dependency is always a unidirectional relationship.<\/p>\n<p>A good example of a dependency that you&#8217;ve already seen many times is std::ostream.  Our classes that use std::ostream use it in order to accomplish the task of printing something to the console, but not otherwise.<\/p>\n<p>For example:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n \r\nclass Point\r\n{\r\nprivate:\r\n    double m_x{};\r\n    double m_y{};\r\n    double m_z{};\r\n \r\npublic:\r\n    Point(double x=0.0, double y=0.0, double z=0.0): m_x{x}, m_y{y}, m_z{z}\r\n    {\r\n    }\r\n \r\n    friend std::ostream&amp; operator&lt;&lt; (std::ostream&amp; out, const Point&amp; point); \/\/ Point has a dependency on std::ostream here\r\n};\r\n \r\nstd::ostream&amp; operator&lt;&lt; (std::ostream&amp; out, const Point&amp; point)\r\n{\r\n    \/\/ Since operator&lt;&lt; is a friend of the Point class, we can access Point's members directly.\r\n    out &lt;&lt; \"Point(\" &lt;&lt; point.m_x &lt;&lt; \", \" &lt;&lt; point.m_y &lt;&lt; \", \" &lt;&lt; point.m_z &lt;&lt; ')';\r\n \r\n    return out;\r\n}\r\n \r\nint main()\r\n{\r\n    Point point1 { 2.0, 3.0, 4.0 };\r\n \r\n    std::cout &lt;&lt; point1; \/\/ the program has a dependency on std::cout here\r\n \r\n    return 0;\r\n}<\/code><\/pre>\n<p>In the above code, Point isn&#8217;t directly related to std::ostream, but it has a dependency on std::ostream since operator&lt;&lt; uses std::ostream to print the Point to the console.<\/p>\n<p><strong>Dependencies vs Association in C++<\/strong><\/p>\n<p>There&#8217;s typically some confusion about what differentiates a dependency from an association.<\/p>\n<p>In C++, associations are a relationship where one class keeps a direct or indirect &#8220;link&#8221; to the associated class as a member.  For example, a Doctor class has an array of pointers to its Patients as a member.  You can always ask the Doctor who its patients are.  The Driver class holds the id of the Car the driver object owns as an integer member.  The Driver always knows what Car is associated with it.<\/p>\n<p>Dependencies typically are not members.  Rather, the object being depended on is typically instantiated as needed (like opening a file to write data to), or passed into a function as a parameter (like std::ostream in the overloaded operator&lt;&lt; above).<\/p>\n<p><strong>Humor break<\/strong><\/p>\n<p>Dependencies (courtesy of our friends at <a href=\"https:\/\/xkcd.com\/754\/\">xkcd<\/a>):<\/p>\n<p><img src=\"https:\/\/imgs.xkcd.com\/comics\/dependencies.png\"><\/p>\n<p>Of course, you and I know that this is actually a reflexive association!<\/p>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/container-classes\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">23.6<\/span>Container classes\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/association\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">23.4<\/span>Association\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>So far, we&#8217;ve explored 3 types of relationships: composition, aggregation, and association. We&#8217;ve saved the simplest one for last: dependencies. In casual conversation, we use the term dependency to indicate that an object is reliant upon another object for a given task. For example, if you break your foot, you &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/4482"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=4482"}],"version-history":[{"count":28,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/4482\/revisions"}],"predecessor-version":[{"id":15282,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/4482\/revisions\/15282"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=4482"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=4482"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=4482"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}