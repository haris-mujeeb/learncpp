{"id":444,"date":"2010-07-18T14:21:25","date_gmt":"2010-07-18T22:21:25","guid":{"rendered":"http:\/\/www.learncpp.com\/?p=444"},"modified":"2022-09-16T23:50:20","modified_gmt":"2022-09-17T06:50:20","slug":"stdstring-assignment-and-swapping","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-assignment-and-swapping\/","title":{"rendered":"22.5 &#8212; std::string assignment and swapping"},"content":{"rendered":"<p><strong>String assignment<\/strong><\/p>\n<p>The easiest way to assign a value to a string is to use the overloaded operator= function.  There is also an assign() member function that duplicates some of this functionality.<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::operator= (const string&#038; str)<\/b><br \/>\n<b>string&#038; string::assign (const string&#038; str)<\/b><br \/>\n<b>string&#038; string::operator= (const char* str)<\/b><br \/>\n<b>string&#038; string::assign (const char* str)<\/b><br \/>\n<b>string&#038; string::operator= (char c)<\/b><br \/>\n<\/p>\n<ul>\n<li>These functions assign values of various types to the string.\n<li>These functions return *this so they can be &#8220;chained&#8221;.\n<li>Note that there is no assign() function that takes a single char.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sString;\r\n\r\n\/\/ Assign a string value\r\nsString = std::string(\"One\");\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';\r\n\r\nconst std::string sTwo(\"Two\");\r\nsString.assign(sTwo);\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';\r\n\r\n\/\/ Assign a C-style string\r\nsString = \"Three\";\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';\r\n\r\nsString.assign(\"Four\");\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';\r\n\r\n\/\/ Assign a char\r\nsString = '5';\r\nstd::cout &lt;&lt; sString &lt;&lt; '\\n';\r\n\r\n\/\/ Chain assignment\r\nstd::string sOther;\r\nsString = sOther = \"Six\";\r\nstd::cout &lt;&lt; sString &lt;&lt; ' ' &lt;&lt; sOther &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\nOne\r\nTwo\r\nThree\r\nFour\r\n5\r\nSix Six\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p>The assign() member function also comes in a few other flavors:<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::assign (const string&#038; str, size_type index, size_type len)<\/b><\/p>\n<ul>\n<li>Assigns a substring of str, starting from index, and of length len\n<li>Throws an out_of_range exception if the index is out of bounds\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">const std::string sSource(\"abcdefg\");\r\nstd::string sDest;\r\n\r\nsDest.assign(sSource, 2, 4); \/\/ assign a substring of source from index 2 of length 4\r\nstd::cout &lt;&lt; sDest &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\ncdef\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::assign (const char* chars, size_type len)<\/b><\/p>\n<ul>\n<li>Assigns len characters from the C-style array chars\n<li>Throws an length_error exception if the result exceeds the maximum number of characters\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sDest;\r\n\r\nsDest.assign(\"abcdefg\", 4);\r\nstd::cout &lt;&lt; sDest &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\nabcd\r\n<\/pre>\n<p>This function is potentially dangerous and its use is not recommended.<\/p>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>string&#038; string::assign (size_type len, char c)<\/b><\/p>\n<ul>\n<li>Assigns len occurrences of the character c\n<li>Throws a length_error exception if the result exceeds the maximum number of characters\n<li>Returns *this so it can be &#8220;chained&#8221;.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sDest;\r\n\r\nsDest.assign(4, 'g');\r\nstd::cout &lt;&lt; sDest &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\ngggg\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<p><strong>Swapping<\/strong><\/p>\n<p>If you have two strings and want to swap their values, there are two functions both named swap() that you can use.<\/p>\n<div class=\"cpp-table-wrapper\"><table class=\"cpp-table\"><\/p>\n<tr>\n<td>\n<b>void string::swap (string&#038; str)<\/b><br \/>\n<b>void swap (string&#038; str1, string&#038; str2)<\/b><\/p>\n<ul>\n<li>Both functions swap the value of the two strings.  The member function swaps *this and str, the global function swaps str1 and str2.\n<li>These functions are efficient and should be used instead of assignments to perform a string swap.\n<\/ul>\n<p>Sample code:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">std::string sStr1(\"red\");\r\nstd::string sStr2(\"blue\");\r\n\r\nstd::cout &lt;&lt; sStr1 &lt;&lt; ' ' &lt;&lt; sStr2 &lt;&lt; '\\n';\r\nswap(sStr1, sStr2);\r\nstd::cout &lt;&lt; sStr1 &lt;&lt; ' ' &lt;&lt; sStr2 &lt;&lt; '\\n';\r\nsStr1.swap(sStr2);\r\nstd::cout &lt;&lt; sStr1 &lt;&lt; ' ' &lt;&lt; sStr2 &lt;&lt; '\\n';<\/code><\/pre>\n<p>Output:<\/p>\n<pre>\r\nred blue\r\nblue red\r\nred blue\r\n<\/pre>\n<\/td>\n<\/tr>\n<p><\/table><\/div>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-appending\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">22.6<\/span>std::string appending\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/stdstring-character-access-and-conversion-to-c-style-arrays\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">22.4<\/span>std::string character access and conversion to C-style arrays\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>String assignment The easiest way to assign a value to a string is to use the overloaded operator= function. There is also an assign() member function that duplicates some of this functionality. The assign() member function also comes in a few other flavors: Swapping If you have two strings and &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[12,14,16],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/444"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=444"}],"version-history":[{"count":16,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/444\/revisions"}],"predecessor-version":[{"id":13657,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/444\/revisions\/13657"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=444"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=444"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=444"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}