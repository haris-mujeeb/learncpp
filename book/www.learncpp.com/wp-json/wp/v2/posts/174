{"id":174,"date":"2008-01-17T16:06:13","date_gmt":"2008-01-18T00:06:13","guid":{"rendered":"http:\/\/www.learncpp.com\/cpp-tutorial\/116-adding-changing-and-hiding-members-in-a-derived-class\/"},"modified":"2023-09-11T11:08:46","modified_gmt":"2023-09-11T18:08:46","slug":"adding-new-functionality-to-a-derived-class","status":"publish","type":"post","link":"https:\/\/www.learncpp.com\/cpp-tutorial\/adding-new-functionality-to-a-derived-class\/","title":{"rendered":"24.6 &#8212; Adding new functionality to a derived class"},"content":{"rendered":"<p>In the <a href=\"http:\/\/www.learncpp.com\/cpp-tutorial\/111-introduction-to-inheritance\/\">introduction to inheritance<\/a> lesson, we mentioned that one of the biggest benefits of using derived classes is the ability to reuse already written code.  You can inherit the base class functionality and then add new functionality, modify existing functionality, or hide functionality you don&#8217;t want.  In this and the next few lessons, we&#8217;ll take a closer look at how each of these things is done.<\/p>\n<p>First, let&#8217;s start with a simple base class:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">#include &lt;iostream&gt;\r\n\r\nclass Base\r\n{\r\nprotected:\r\n    int m_value {};\r\n\r\npublic:\r\n    Base(int value)\r\n        : m_value { value }\r\n    {\r\n    }\r\n\r\n    void identify() const { std::cout &lt;&lt; \"I am a Base\\n\"; }\r\n};<\/code><\/pre>\n<p>Now, let&#8217;s create a derived class that inherits from Base.  Because we want the derived class to be able to set the value of m_value when derived objects are instantiated, we&#8217;ll make the Derived constructor call the Base constructor in the initialization list.<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">class Derived: public Base\r\n{\r\npublic:\r\n    Derived(int value)\r\n        : Base { value }\r\n    {\r\n    }\r\n};<\/code><\/pre>\n<p><strong>Adding new functionality to a derived class<\/strong><\/p>\n<p>In the above example, because we have access to the source code of the Base class, we can add functionality directly to Base if we desire.<\/p>\n<p>There may be times when we have access to a base class but do not want to modify it.  Consider the case where you have just purchased a library of code from a 3rd party vendor, but need some extra functionality.  You could add to the original code, but this isn&#8217;t the best solution.  What if the vendor sends you an update?  Either your additions will be overwritten, or you&#8217;ll have to manually migrate them into the update, which is time-consuming and risky.<\/p>\n<p>Alternatively, there may be times when it&#8217;s not even possible to modify the base class.  Consider the code in the standard library.  We aren&#8217;t able to modify the code that&#8217;s part of the standard library.  But we are able to inherit from those classes, and then add our own functionality into our derived classes.  The same goes for 3rd party libraries where you are provided with headers but the code comes precompiled.<\/p>\n<p>In either case, the best answer is to derive your own class, and add the functionality you want to the derived class.<\/p>\n<p>One obvious omission from the Base class is a way for the public to access m_value.  We could remedy this by adding an access function in the Base class -- but for the sake of example we&#8217;re going to add it to the derived class instead.  Because m_value has been declared as protected in the Base class, Derived has direct access to it.<\/p>\n<p>To add new functionality to a derived class, simply declare that functionality in the derived class like normal:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">class Derived: public Base\r\n{\r\npublic:\r\n    Derived(int value)\r\n        : Base { value }\r\n    {\r\n    }\r\n\r\n    int getValue() const { return m_value; }\r\n};<\/code><\/pre>\n<p>Now the public will be able to call getValue() on an object of type Derived to access the value of m_value.<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">int main()\r\n{\r\n    Derived derived { 5 };\r\n    std::cout &lt;&lt; \"derived has value \" &lt;&lt; derived.getValue() &lt;&lt; '\\n';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This produces the result:<\/p>\n<pre>\r\nderived has value 5\r\n<\/pre>\n<p>Although it may be obvious, objects of type Base have no access to the getValue() function in Derived.  The following does not work:<\/p>\n<pre class=\"language-cpp line-numbers\"><code class=\"language-cpp match-braces\">int main()\r\n{\r\n    Base base { 5 };\r\n    std::cout &lt;&lt; \"base has value \" &lt;&lt; base.getValue() &lt;&lt; '\\n';\r\n\r\n    return 0;\r\n}<\/code><\/pre>\n<p>This is because there is no getValue() function in Base.  Function getValue() belongs to Derived.  Because Derived is a Base, Derived has access to stuff in Base.  However, Base does not have access to anything in Derived.<\/p>\n<div class=\"prevnext\"><div class=\"prevnext-inline\">\n\t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/calling-inherited-functions-and-overriding-behavior\/\">\n <div class=\"nav-button nav-button-next\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Next lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">24.7<\/span>Calling inherited functions and overriding behavior\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  \t<a class=\"nav-link\" href=\"\/\">\n  <div class=\"nav-button nav-button-index\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-home\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Back to table of contents<\/div>\n    <\/div>\n<\/div><\/a>\n  \t<a class=\"nav-link\" href=\"https:\/\/www.learncpp.com\/cpp-tutorial\/inheritance-and-access-specifiers\/\">\n  <div class=\"nav-button nav-button-prev\">\n    <div class=\"nav-button-icon\"><i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"><\/i><\/div>\n    <div class=\"nav-button-text\">\n      <div class=\"nav-button-title\">Previous lesson<\/div>\n      <div class=\"nav-button-lesson\">\n        <span class=\"nav-button-lesson-number\">24.5<\/span>Inheritance and access specifiers\n      <\/div>\n    <\/div>\n  <\/div><\/a>\n  <\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>In the introduction to inheritance lesson, we mentioned that one of the biggest benefits of using derived classes is the ability to reuse already written code. You can inherit the base class functionality and then add new functionality, modify existing functionality, or hide functionality you don&#8217;t want. In this and &hellip;<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/174"}],"collection":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/comments?post=174"}],"version-history":[{"count":14,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/174\/revisions"}],"predecessor-version":[{"id":15272,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/posts\/174\/revisions\/15272"}],"wp:attachment":[{"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/media?parent=174"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/categories?post=174"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.learncpp.com\/wp-json\/wp\/v2\/tags?post=174"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}